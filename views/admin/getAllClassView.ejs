<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login view</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="row">
            <form action="/api/classes?status=open" method="GET">
                <div class="form-row">
                  <div>
                    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                      <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Account
                          </a>
                          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="/admin/updateUserPasswordView">Change password</a>
                            <a class="dropdown-item" href="/admin/updateProfileView">Update Profile</a>
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="/api/classes/listRegisteredClass/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Registration submission 
                          </a>
                          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="/api/classes/listRegistration">List registration</a> 
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="/api/classes/listRegisteredClass/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Manage User
                          </a>
                          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="/client/signupView">Create user</a> 
                            <a class="dropdown-item" href="/admin/getClient">Get user</a>
                          </div>
                        </li>
                      </ul>
                      <form class="form-inline my-2 my-lg-0">
                        <a class="btn btn-outline-success my-2 my-sm-0" href="/admin/logout">Log Out</a>
                      </form>
                    </div>
                    </nav>
                  </div>
                  <div class="col-12 mt-3">All Classes</div>
                  <a href="/admin/createClassView" class="btn btn-primary  active" role="button" aria-pressed="true">Create Class</a>
                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">No.</th>
                            <th scope="col">Subject</th>
                            <th scope="col">Class description</th>
                            <th scope="col">Week day</th>
                            <th scope="col">Max Students</th>
                            <th scope="col">Current Students</th>
                            <th scope="col">From</th>
                            <th scope="col">To</th>
                            <th scope="col">Status</th>
                          </tr>
                        </thead>
                        <tbody>
                        <% data.forEach((item)=> { %>
                          <tr>
                            <th scope="row"><%= item.class_id %></th>
                            <td><%= item.subject %></td>
                            <td><%= item.class_description %></td>
                            <td><%= item.week_day %></td>
                            <td><%= item.max_students %></td>
                            <td><%= item.current_student %></td>
                            <td><%= item.from %></td>
                            <td><%= item.to %></td>
                            <td><%= item.status %></td>
                            <td>
                                <a href="/admin/updateClassView/<%=item.class_id %>">Edit</a> <br />
                                <a href="/admin/delete/<%=item.class_id %>">Delete</a>
                                </br>
                                <a href="/admin/viewClients/<%=item.class_id %>">View clients</a>
                              </td>
                          </tr>
                        <% }) %>
                        </tbody>
                      </table>
                </div>
            </form>
        </div>
    </div>
</body>
</html>